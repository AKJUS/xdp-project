#+TITLE: Identify XDP issues

* Issue: Missing update of ifconfig counters



* Issue: XDP_REDIRECT is few drivers

Very few drivers support XDP_REDIRECT.


* Issue: ndo_xdp_xmit bound to XDP_REDIRECT

Driver resources needed to handle a ndo_xdp_xmit() is currently tied
to the driver having loaded an RX XDP program. This is strange, as
allocating these Driver TX HW resources is independend.

This can quickly lead to exhausting HW resources, like IRQs lines or
NIC TX HW queues, given it is assumed a TX queue is alloc/dedicated
for each CPU core.


* Issue: usability of xdp_redirect + xdp_redirect_map

The samples/bpf programs xdp_redirect + xdp_redirect_map are very user
unfriendly.  #1 they use raw ifindex'es as input + output. #2 the
pkt/s number count RX packets, not TX'ed packets.

Red Hat QA, got very confused by #2.

