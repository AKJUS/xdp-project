#  -*- fill-column: 79; -*-
#+TITLE: Slide examples with data
#+AUTHOR: Jesper Dangaard Brouer
#+EMAIL: brouer@redhat.com
#+REVEAL_THEME: redhat
#+REVEAL_TRANS: linear
#+REVEAL_MARGIN: 0
#+REVEAL_EXTRA_JS: { src: './reveal.js/js/custom-fosdem2019.js'}
#+REVEAL_EXTRA_CSS: ./reveal.js/css/custom-adjust-logo.css
#+OPTIONS: reveal_center:nil reveal_control:t reveal_history:nil
#+OPTIONS: reveal_width:1600 reveal_height:900
#+OPTIONS: ^:nil tags:nil toc:nil num:nil ':t

* Intro

Playing different ways to represent data via using org-mode tables.

Found online resources:
- https://acaird.github.io/2015/09/04/plots-from-org-mode-tables

Examples in section "Plotting with python"
- http://ehneilsen.net/notebook/orgExamples/org-examples.html

* Example-1: Data                                                    :export:

#+tblname: data01
| legend       | rx_drop | nanosec per packet |  saved ns |
|--------------+---------+--------------------+-----------|
| baseline     |    15.1 |          66.225166 |        0. |
| XDP_ATTACH   |    17.1 |          58.479532 |  7.745634 |
| RM-indirect  |    23.4 |          42.735043 | 23.490123 |
| RM-switch    |    31.5 |          31.746032 | 34.479134 |
| various      |    36.8 |          27.173913 | 39.051253 |
| explicit-ctx |    39.3 |          25.445293 | 40.779873 |
#+TBLFM: $3=(1/$2)*(1000)::$4=(@2$3)-$3

* Example-1: Python pyplot code                                    :noexport:

Execute python code in emacs via keyboard shortcut: =C-c C-c=

#+BEGIN_SRC python :var fname="rx_drop.png" :var data=data01 :results file
import matplotlib.pyplot as plt

txt, y, z, a = zip(*data)

fig = plt.figure()
axes = fig.add_subplot(1,1,1)
axes.plot(txt, y, marker='o')
fig.savefig(fname)

return fname
#+END_SRC

#+RESULTS:
[[file:rx_drop.png]]

* Example-1 slide                                                    :export:

file:rx_drop.png

Not much room for describing the figure

* Emacs tricks

# Local Variables:
# org-reveal-title-slide: "<h1 class=\"title\">%t</h1>
# <h2 class=\"author\">Jesper Dangaard Brouer (Red Hat)<br/></h2>
# <h3>Data Examples<br/>in org-mode</h3>"
# org-export-filter-headline-functions: ((lambda (contents backend info) (replace-regexp-in-string "Slide: " "" contents)))
# End:
